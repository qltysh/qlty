config_version = "0"

[plugins.definitions.ktlint]
runnable_archive_url = "https://github.com/pinterest/ktlint/releases/download/${version}/ktlint"
runtime = "java"
file_types = ["kotlin"]
affects_cache = [".editorconfig"]
latest_version = "1.7.1"
known_good_version = "1.7.1"
version_command = "java -jar ${linter}/ktlint --version"
description = "An anti-bikeshedding Kotlin linter with built-in formatter"

[plugins.definitions.ktlint.drivers.lint]
script = "java -jar ${linter}/ktlint --reporter=sarif --log-level=none ${target}"
success_codes = [0, 1]
output = "stdout"
output_format = "sarif"
batch = true
cache = true
suggested = "targets"

[plugins.definitions.ktlint.drivers.format]
script = "java -jar ${linter}/ktlint -F ${target}"
success_codes = [0, 1]
output = "rewrite"
batch = true
driver_type = "formatter"
suggested = "targets"
